<html>
	<head>
		<meta charset="utf8">
	</head>
	<body>
		<canvas id="canvas1" width="800" height="600" style="border: 3px solid black;"></canvas>
		<script type="text/javascript">
			'use strict';
			// Script here
			var canvas = document.getElementById('canvas1'); // канвас
			var ctx = canvas.getContext('2d'); // контекст
			var bgr = canvas.background;

			 function drawColoredBar(color, x, y, width, height) {  // обозначение функции (цвет,x, y (координаты), ширина, высота)
				ctx.fillStyle    = color; 
				ctx.fillRect       (x, y, width, height); 
            }
            
            function drawLine(color, lineWidth, dash, x, y, width, height) {
            	ctx.strokeStyle =  color;
                ctx.lineWidth   =  lineWidth;
                ctx.setLineDash    (dash);
                ctx.strokeRect     (x, y, width, height);
            }

            ctx.fillStyle = "rgb(0,0,0)";
			ctx.fillRect (0, 0, 800, 600);
          
			// Hello World

            var text = 'Hello world!';

			var img = new Image();
			img.src = 'https://avatanplus.com/files/resources/mid/596df1602647515d5576df9d.jpg';

			var a = 0;  
			img.onload = function() {
			  
			var pattern = ctx.createPattern(img, 'repeat');    

			  
			ctx.font = '32px arial black';

			  
			var textMetrics = ctx.measureText(text);
			  
			var height = 70;
			  
			var width  = textMetrics.width;
			  
			var x = null, y = null;

			  
			var interval = setInterval(function() {
			    if (null != x) {
			      ctx.fillStyle='black';
			      
			ctx.fillRect(90 + x, 50 + y, width, height);
			    }

			    a++;
			    x = 0 * Math.sin(a * 3.14 / 240); // 240
			    y = 100 * Math.sin(a * 3.14 / 108);   // 108

			    
				ctx.fillStyle = pattern;
			    ctx.fillText(text, 90 + x, 100 + y);
			  }, 10);
			};


			

			





        </script>
	</body>
 </html>











